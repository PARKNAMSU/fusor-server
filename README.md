# fusor (μ‚¬μ©μ μΈμ¦ λ° κ΄€λ¦¬ ν”„λ΅μ νΈ)

## β… ν”„λ΅μ νΈ κ°μ”

- **λ©μ **: μ™Έλ¶€ ννΈλ„ λ° μ¤ν” API μ κ³µμ„ μ„ν• λ³΄μ• μΈμ¦ μ‹μ¤ν… κµ¬μ¶•
- **κΈ°λ¥ μ”μ•½**:
    - API Key λ°κΈ‰ λ° κ΄€λ¦¬
    - HMAC κΈ°λ° Signature κ²€μ¦
    - timestamp κΈ°λ° λ¦¬ν”λ μ΄ κ³µκ²© λ°©μ§€
    - νΈμ¤νΈ/λ„λ©”μΈ κΈ°λ° νΈμ¶ μ ν•

## π”§ κΈ°μ  μ¤νƒ λ° μΈν”„λΌ

| κΈ°μ              | μ‚¬μ© λ©μ                |
| ---------------- | ----------------------- |
| AWS SAM          | μ„λ²„λ¦¬μ¤ μΈν”„λΌ IaC     |
| Lambda           | λΉ„μ¦λ‹μ¤ λ΅μ§ μ‹¤ν–‰ ν•¨μ |
| API Gateway      | μ™Έλ¶€ API Entry Point    |
| DynamoDB         | μ„λΉ„μ¤ λ°μ΄ν„° μ €μ¥      |
| Redis (Upstash)  | μ„Έμ… μΊμ‹±, TTL κ΄€λ¦¬     |
| TypeScript       | μ „μ²΄ λ΅μ§ κµ¬ν„          |
| OpenAPI(Swagger) | λ¬Έμ„ μλ™ν™”             |

## π— μ•„ν‚¤ν…μ² λ‹¤μ΄μ–΄κ·Έλ¨

todo

## π” μΈμ¦ μ²λ¦¬ νλ¦„

todo

## π¨ λ³΄μ• μ„¤κ³„ ν¬μΈνΈ

todo

## β™οΈ μ£Όμ” λΉ„μ¦λ‹μ¤ λ΅μ§

todo

## π’΅ νΈλ¬λΈ”μν… κ²½ν—

| λ¬Έμ                       | ν•΄κ²° λ°©λ²•                                                                                                                                                                                            |
| ------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| dynaomdb Transaction μ‚¬μ© | repository λ΅ κ°κ° ν•¨μ μ‹¤ν–‰ν•λ©΄ νΈλμ­μ… μ μ© μ–΄λ ¤μ›€ -> custom dynamodb λ©”μ„λ“ μƒμ„±ν•μ—¬ repository μ—μ„ νΈμ¶ μ‹ task λ°°μ—΄μ— λ“±λ΅ ν›„ νΈλμ­μ… μ‹¤ν–‰ μ‹ λ°°μ—΄ μ— ν¬ν•¨λμ–΄μλ” ν…μ¤νΈ μΌκ΄„ νΈλμ­μ… μ²λ¦¬ |
| Secret ν‚¤ μ €μ¥            | Secrets Manager λΉ„μ© μ΄μ β†’ dynaomdb + μ•”νΈν™”λ΅ λ€μ²΄                                                                                                                                                 |

### dynamodb local μ„¤μΉ

```
docker run -d -p 8000:8000 amazon/dynamodb-local
docker run -d -p 6379:6379 redis
```

### ν”λ«νΌ ν΄λΌμ΄μ–ΈνΈ API KEY μ•”νΈν™”

**μ΅°κ±΄**

1. μ†λ„κ°€ λΉ¨λΌμ•Όν•λ―€λ΅ ν•λ² μ”μ²­μΌλ΅ μ²λ¦¬λμ–΄μ•Ό ν•¨.(μ¬νΈμ¶ λ°©μ‹x)
2. secretKey μ™Έλ¶€ λ…Έμ¶ μ—†μ
3. μ„μ΅° λ°©μ§€
4. λ¦¬ν”λ μ΄ λ¶κ°€

**μ•”νΈν™” λ΅μ§**

1. ν΄λΌμ΄μ–ΈνΈκ°€ api key λ°κΈ‰ μ‹ apiμ™€ hostname μ„λ²„μ— μ„ μ €μ¥ν•λ‹¤.
2. μ„λ²„(parameter store) μ— hostname λ³„λ΅ secret key λ¥Ό μ €μ¥ν•λ‹¤.
3. ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„ api μ”μ²­ μ‹ apiKey, hostname, timestamp λ¥Ό header μ— ν¬ν•¨ν•μ—¬ μ”μ²­ν•λ‹¤.
4. μ„λ²„μ—μ„ μ „λ‹¬λ°›μ€ apiKey, hostname μ„ ν†µν•΄ apikeyλ¥Ό κ²€μƒ‰ν• ν›„ λ§¤μΉ­λλ” apiKey κ°€ μλ”κ²½μ° (apiKey + hostname + timestamp + secretKe) μ΅°ν•©μΌλ΅ μ„λ…μ„ μƒμ„±ν•μ—¬ κ²€μ¦ν•λ‹¤.
